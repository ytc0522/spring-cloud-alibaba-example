#Nacos服务发现的原理
## 客户端侧
1. 当需要获取某个服务的实例信息时，首先根据serviceId先从本地缓存获取，如果本地缓存中没有，再从nacos服务端获取，并更新到本地缓存中。
2. Nacos客户端为了可以将本地缓存和nacos服务端保持数据同步，客户端使用一个线程一直监听一个从Nacos服务端返回数据的UDP连接，
当有数据返回时，就会更新本地缓存，完成后向服务端返回ack信息。

### 服务端侧
1. 当某个Nacos客户端注册到Nacos上，Nacos服务端会通过UDP连接向Nacos客户端发送这个最新的服务数据。

### 总结
服务发现一共有两种模式，一种是客户端主动到服务端拉取，一种是服务端主动向客户端推送数据。